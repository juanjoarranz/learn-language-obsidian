/* =============================================
   Learn Language Plugin - Styles
   ============================================= */

:root {
	--ll-table-even-row-bg: #0c1b29;
  --ll-table-row-bg-hover: #070f16;
}

/* =============================================
   General View Styles
   ============================================= */

.learn-language-view {
	padding: 16px;
	overflow: auto;
}

.learn-language-view h2 {
	margin: 0 0 16px 0;
	padding-bottom: 8px;
	border-bottom: 1px solid var(--background-modifier-border);
}

/* =============================================
   Filter Styles
   ============================================= */

.ll-filters {
	margin-bottom: 16px;
	padding-bottom: 16px;
	border-bottom: 1px solid var(--background-modifier-border);
}

.ll-filter-row {
	display: flex;
	flex-wrap: wrap;
	gap: 12px;
	align-items: center;
}

.ll-filter-item {
	display: flex;
	align-items: center;
	gap: 6px;
	padding: 4px 8px;
	background: var(--background-secondary);
	border-radius: 6px;
	transition: background 0.2s ease;
}

.ll-filter-item.ll-filter-active {
	background: var(--interactive-accent);
	color: var(--text-on-accent);
}

.ll-filter-item.ll-filter-active .dropdown {
	background: var(--background-primary);
}

.ll-filter-item.ll-filter-active .ll-filter-input {
	background: var(--background-primary);
	color: var(--text-normal);
}

.ll-filter-label {
	font-size: 12px;
	font-weight: 600;
	/* text-transform: uppercase; */
	letter-spacing: 0.5px;
}

.ll-filter-item .dropdown {
	min-width: 100px;
}

.ll-filter-clear {
	appearance: none;
	border: none;
	background: transparent;
	color: inherit;
	cursor: pointer;
	padding: 0 4px;
	line-height: 1;
	font-size: 14px;
	opacity: 0.85;
}

.ll-filter-clear:hover {
	opacity: 1;
}

.ll-filter-clear:focus-visible {
	outline: 2px solid var(--background-modifier-border);
	outline-offset: 2px;
}

/* =============================================
   Searchable Dropdown Styles
   ============================================= */

.ll-dropdown-container {
	position: relative;
	display: inline-flex;
	align-items: center;
}

.ll-dropdown-input {
	min-width: 120px;
	padding: 4px 28px 4px 8px;
	border: 1px solid var(--background-modifier-border);
	border-radius: 4px;
	background: var(--background-primary);
	color: var(--text-normal);
	font-size: 13px;
	outline: none;
	transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

.ll-dropdown-input:focus {
	border-color: var(--interactive-accent);
	box-shadow: 0 0 0 2px rgba(var(--interactive-accent-rgb), 0.2);
}

.ll-dropdown-input::placeholder {
	color: var(--text-muted);
}

.ll-filter-item.ll-filter-active .ll-dropdown-input {
	background: var(--background-primary);
	color: var(--text-normal);
}

.ll-dropdown-toggle {
	position: absolute;
	right: 4px;
	top: 50%;
	transform: translateY(-50%);
	appearance: none;
	border: none;
	background: transparent;
	color: var(--text-muted);
	cursor: pointer;
	padding: 2px;
	display: flex;
	align-items: center;
	justify-content: center;
	border-radius: 2px;
  height: auto;
}

.ll-dropdown-toggle:hover {
	color: var(--text-normal);
}

.ll-dropdown-arrow {
	transition: transform 0.2s ease;
}

.ll-dropdown-arrow-open {
	transform: rotate(180deg);
}

.ll-dropdown-list {
	position: absolute;
	top: 100%;
	left: 0;
	right: 0;
	margin: 4px 0 0 0;
	padding: 4px 0;
	list-style: none;
	background: var(--background-primary);
	border: 1px solid var(--background-modifier-border);
	border-radius: 6px;
	box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
	max-height: 250px;
	overflow-y: auto;
	z-index: 1000;
	min-width: 150px;
}

.ll-dropdown-option {
	padding: 6px 12px;
	cursor: pointer;
	font-size: 13px;
	transition: background 0.15s ease;
}

.ll-dropdown-option:hover,
.ll-dropdown-option-highlighted {
	background: var(--background-secondary);
}

.ll-dropdown-option-selected {
	background: var(--interactive-accent);
	color: var(--text-on-accent);
}

.ll-dropdown-option-selected:hover,
.ll-dropdown-option-selected.ll-dropdown-option-highlighted {
	background: var(--interactive-accent-hover);
}

.ll-dropdown-no-results {
	padding: 8px 12px;
	color: var(--text-muted);
	font-style: italic;
	font-size: 13px;
	text-align: center;
}

/* =============================================
   Table Styles
   ============================================= */

.ll-table-container {
	overflow-x: auto;
	overflow-y: auto;
	max-height: 65vh;
	position: relative;
}

.ll-table {
	width: 100%;
	border-collapse: collapse;
	font-size: 14px;
}

.ll-table thead {
	position: sticky;
	top: -1px;
	background: #000000;
	z-index: 10;
}

.ll-table th {
	text-align: left;
	padding: 10px 12px;
	font-weight: 600;
	border-bottom: 2px solid var(--background-modifier-border);
	background: #000000 !important;
	box-shadow: 0 -3px 0 0 #000000;
}

.ll-table td {
	padding: 8px 12px;
	/* border-bottom: 1px solid var(--background-modifier-border); */
	vertical-align: top;
  font-size: 0.97em !important;
  /* border: none !important; */
}

.ll-table tbody tr:hover {
	background: var(--background-secondary-alt);
}

.ll-table tbody tr:nth-child(even) {
	background: var(--background-secondary);
	background: var(--ll-table-even-row-bg);
}

.ll-table tbody tr:nth-child(even):hover {
  background: var(--ll-table-row-bg-hover);
}

.ll-table tbody tr:nth-child(odd):hover {
  background: var(--ll-table-row-bg-hover);
}

/* Table cell specific styles */
.ll-tags {
	font-size: 12px;
	color: var(--text-muted);
}

.ll-examples {
	font-size: 13px;
	color: var(--text-muted);
}

.ll-conjugation {
	font-size: 12px;
	line-height: 1.6;
}

.ll-empty {
	color: var(--text-faint);
}

/* =============================================
   Verbs Table Specific
   ============================================= */

.ll-verbs-table th:nth-child(1),
.ll-verbs-table td:nth-child(1) {
	min-width: 120px;
}

.ll-verbs-table th:nth-child(2),
.ll-verbs-table td:nth-child(2) {
	min-width: 100px;
}

.ll-verbs-table th:nth-child(3),
.ll-verbs-table td:nth-child(3) {
	width: 40px;
	text-align: center;
}

/* =============================================
   Study Mode Styles
   ============================================= */

.ll-study-row {
	cursor: pointer;
}

.ll-study-question {
	padding: 8px 0;
}

.ll-study-question-content {
	display: flex;
	align-items: center;
	justify-content: space-between;
	gap: 12px;
}

.ll-study-question h4 {
	margin: 0;
	padding: 8px 12px;
	background: var(--background-secondary);
	border-radius: 6px;
	cursor: pointer;
	transition: background 0.2s ease;
	flex: 1;
}

.ll-study-question h4:hover {
	background: var(--background-modifier-hover);
}

/* Study mode dropdowns */
.ll-study-dropdowns {
	display: flex;
	align-items: center;
	gap: 8px;
	flex-shrink: 0;
}

.ll-study-dropdown {
	font-size: 12px;
	min-width: 60px;
}

.ll-rating-dropdown {
	min-width: 100px;
}

.ll-study-answer {
	padding: 12px;
	margin-top: 8px;
	background: var(--background-primary-alt);
	border-radius: 6px;
	border-left: 3px solid var(--interactive-accent);
}

.ll-study-answer.ll-hidden {
	display: none;
}

.ll-answer-text {
	font-size: 16px;
	font-weight: 600;
}

.ll-answer-type {
	font-size: 12px;
	color: var(--text-muted);
	margin-left: 8px;
}

.ll-answer-examples {
	margin-top: 12px;
	padding-top: 12px;
	border-top: 1px solid var(--background-modifier-border);
	font-style: normal;
	color: var(--text-muted);
	color: #a7a7a7;
}

/* Collapsible indicator */
.ll-collapsible::before {
	content: "â–¶";
	display: inline-block;
	margin-right: 8px;
	font-size: 10px;
	transition: transform 0.2s ease;
}

.ll-study-answer:not(.ll-hidden) + .ll-study-question .ll-collapsible::before,
.ll-study-question:has(+ .ll-study-answer:not(.ll-hidden)) .ll-collapsible::before {
	transform: rotate(90deg);
}

/* =============================================
   Pagination Styles
   ============================================= */

.ll-pagination {
	display: flex;
	justify-content: space-between;
	align-items: center;
	padding: 16px 0;
	margin-top: 16px;
	border-top: 1px solid var(--background-modifier-border);
	flex-wrap: wrap;
	gap: 12px;
}

.ll-pagination-no-border-top {
  border-top: none;
  margin-top: 0;
  padding-top: 0;
}

.ll-pagination-info {
	font-size: 13px;
	color: var(--text-muted);
	color: #d4d4d4;
}

.ll-pagination-buttons {
	display: flex;
	gap: 8px;
	align-items: center;
	margin-left: auto;
}

.ll-page-size {
	display: flex;
	align-items: center;
	gap: 6px;
	font-size: 13px;
}

/* =============================================
   No Results
   ============================================= */

.ll-no-results {
	text-align: center;
	padding: 40px 20px;
	color: var(--text-muted);
	font-style: italic;
}

/* =============================================
   Modal Styles
   ============================================= */

.ll-term-modal,
.ll-ask-ai-modal {
	width: 500px;
	max-width: 90vw;
}

.ll-term-form .setting-item {
	border: none;
	padding: 8px 0;
}

.ll-term-form textarea {
	min-height: 80px;
}

.ll-modal-buttons {
	display: flex;
	justify-content: flex-end;
	gap: 8px;
	margin-top: 20px;
	padding-top: 16px;
	border-top: 1px solid var(--background-modifier-border);
}

/* =============================================
   Settings Styles
   ============================================= */

.ll-openai-status {
	margin: 16px 0;
	padding: 12px;
	background: var(--background-secondary);
	border-radius: 6px;
}

.ll-openai-status p {
	margin: 4px 0;
	font-size: 13px;
}

.ll-status-ok {
	color: var(--text-success);
}

.ll-status-warning {
	color: var(--text-warning);
}

.ll-status-info {
	color: var(--text-muted);
	font-family: var(--font-monospace);
	font-size: 11px;
}

.ll-openai-actions {
	margin-top: 16px;
}

.ll-debug-info {
	margin-top: 32px;
	padding: 16px;
	background: var(--background-secondary);
	border-radius: 6px;
	font-size: 12px;
	color: var(--text-muted);
}

.ll-debug-info h3 {
	margin-top: 0;
	font-size: 14px;
}

/* =============================================
   Legacy CSS Class Support (from original implementation)
   ============================================= */

/* ja-readable: Adjusts readable line width */
.ja-readable {
	max-width: 1200px;
	margin: 0 auto;
}

/* ja-dictionary: Container styling for dictionary views */
.ja-dictionary .table-view-table {
	width: 100%;
}

/* ja-mobile: Mobile-specific adjustments */
.ja-mobile .table-view-table {
	font-size: 12px;
}

.ja-mobile .table-view-table th,
.ja-mobile .table-view-table td {
	padding: 6px 8px;
}

/* ja-sticky-header: Sticky table headers */
.ja-sticky-header .table-view-table thead {
	position: sticky;
	top: 0;
	z-index: 10;
	background: var(--background-primary);
}

/* ja-table-verbs: Verb table column widths */
.ja-table-verbs .table-view-table th:first-child,
.ja-table-verbs .table-view-table td:first-child {
	min-width: 100px;
}

/* ja-table-alternating: Alternating row backgrounds */
.ja-table-alternating .table-view-table tbody tr:nth-child(even) {
	background: var(--background-secondary);
}

/* ja-filter-active: Highlighted active filter button */
.ja-filter-active,
.button-default.ja-filter-active {
	background: var(--interactive-accent) !important;
	color: var(--text-on-accent) !important;
}

/* ja-collapsible: Collapsible header in study mode */
.ja-collapsible {
	cursor: pointer;
	-webkit-user-select: none;
	user-select: none;
}

/* ja-isMobile: Mobile detection class */
.ja-isMobile {
	font-size: 12px;
}

/* =============================================
   Responsive Adjustments
   ============================================= */

@media (max-width: 768px) {
	.ll-filter-row {
		flex-direction: column;
		align-items: stretch;
	}

	.ll-filter-item {
		justify-content: space-between;
	}

	.ll-pagination {
		flex-direction: column;
		text-align: center;
	}

	.ll-table {
		font-size: 12px;
	}

	.ll-table th,
	.ll-table td {
		padding: 6px 8px;
	}
}
